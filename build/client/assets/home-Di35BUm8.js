import{p as e,a,v as x,w as g,x as b}from"./chunk-PVWAREVJ-CNwi1oY0.js";import{N}from"./Navbar-Ci-Mecgd.js";import{u as f}from"./puter-Wz7dxAUp.js";function v({score:s=75}){const i=2*Math.PI*36,n=s/100,t=i*(1-n);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#e5e7eb",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"1",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF97AD"}),e.jsx("stop",{offset:"100%",stopColor:"#5171FF"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:i,strokeDashoffset:t,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:`${s}/100`})})]})}function k({resume:s}){const{fs:d}=f(),[c,r]=a.useState("");return a.useEffect(()=>{async function i(){const n=await d.read(s.imagePath);if(!n)return;let t=URL.createObjectURL(n);r(t)}i()},[s.imagePath]),e.jsxs(x,{className:"resume-card animate-in fade-in duration-1000",to:`/resume/${s.id}`,children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[e.jsx("h2",{className:"!text-black font-bold break-words",children:s.companyName}),e.jsx("h3",{className:"text-lg break-words text-gray-500",children:s.jobTitle})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{score:s.feedback.overallScore})})]}),e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"h-full w-full",children:e.jsx("img",{src:c,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top"})})})]})}function U({}){return[{title:"Resumind"},{name:"description",content:"Smart feedback for your industry."}]}function R(){const{auth:s,fs:d,kv:c}=f(),r=b(),[i,n]=a.useState(""),[t,h]=a.useState([]),[o,u]=a.useState(!1);return a.useEffect(()=>{s.isAuthenticated||r("/auth?next=/")},[s.isAuthenticated,r]),a.useEffect(()=>{async function l(){u(!0);const m=await c.list("resume:*",!0),p=m==null?void 0:m.map(j=>JSON.parse(j.value));h(p),u(!1)}l()},[]),e.jsxs("main",{className:"bg-[url(/images/bg-main.svg)] bg-cover",children:[e.jsx(N,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Track Your Applications & Resume Ratings"}),!o&&t.length===0?e.jsx("h2",{children:"No resumes found. Upload your first resume to get feedback"}):e.jsx("h2",{children:"Review your submissions and check AI-powered feedback."})]}),o&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/public/images/resume-scan-2.gif",alt:"resume-scan",className:"w-52"})}),!o&&t.length>0&&e.jsx("div",{className:"resumes-section",children:t.map(l=>e.jsx(k,{resume:l},l.id))}),!o&&t.length===0&&e.jsx(x,{to:"/upload",className:"primary-button w-fit text-xl font-semibold",children:"Upload Resume"})]})]})}const L=g(R);export{L as default,U as meta};
